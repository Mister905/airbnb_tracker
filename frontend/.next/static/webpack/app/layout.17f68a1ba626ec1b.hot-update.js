"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/layout",{

/***/ "(app-pages-browser)/./lib/api.ts":
/*!********************!*\
  !*** ./lib/api.ts ***!
  \********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   api: function() { return /* binding */ api; }\n/* harmony export */ });\n/* harmony import */ var _supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./supabase */ \"(app-pages-browser)/./lib/supabase.ts\");\n\nconst API_URL = \"http://localhost:3001\" || 0;\nasync function getAuthToken() {\n    // Try to get backend JWT from localStorage/Redux first\n    // For now, we'll get it from Supabase session and exchange it\n    const { data: { session } } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.getSession();\n    if (!(session === null || session === void 0 ? void 0 : session.access_token)) {\n        return null;\n    }\n    // Check if we have a cached backend JWT\n    const cachedJwt = localStorage.getItem(\"backend_jwt\");\n    if (cachedJwt) {\n        return cachedJwt;\n    }\n    // Exchange Supabase token for backend JWT\n    try {\n        const API_URL = \"http://localhost:3001\" || 0;\n        const response = await fetch(\"\".concat(API_URL, \"/auth/verify\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                token: session.access_token\n            })\n        });\n        if (response.ok) {\n            const data = await response.json();\n            if (data.jwt) {\n                localStorage.setItem(\"backend_jwt\", data.jwt);\n                return data.jwt;\n            }\n        }\n    } catch (error) {\n        console.error(\"Failed to exchange token:\", error);\n    }\n    return null;\n}\nasync function fetchWithAuth(endpoint) {\n    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    const token = await getAuthToken();\n    const headers = {\n        \"Content-Type\": \"application/json\",\n        ...options.headers\n    };\n    if (token) {\n        headers[\"Authorization\"] = \"Bearer \".concat(token);\n    }\n    const response = await fetch(\"\".concat(API_URL).concat(endpoint), {\n        ...options,\n        headers\n    });\n    if (!response.ok) {\n        const error = {\n            message: \"API Error: \".concat(response.statusText),\n            statusCode: response.status\n        };\n        throw error;\n    }\n    return response;\n}\nconst api = {\n    async get (endpoint) {\n        const response = await fetchWithAuth(endpoint);\n        return response.json();\n    },\n    async post (endpoint, data) {\n        const response = await fetchWithAuth(endpoint, {\n            method: \"POST\",\n            body: JSON.stringify(data)\n        });\n        return response.json();\n    },\n    async patch (endpoint, data) {\n        const response = await fetchWithAuth(endpoint, {\n            method: \"PATCH\",\n            body: JSON.stringify(data)\n        });\n        return response.json();\n    },\n    async delete (endpoint) {\n        const response = await fetchWithAuth(endpoint, {\n            method: \"DELETE\"\n        });\n        return response.json();\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tICcuL3N1cGFiYXNlJztcblxuY29uc3QgQVBJX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXBpRXJyb3Ige1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIHN0YXR1c0NvZGU/OiBudW1iZXI7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEF1dGhUb2tlbigpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgLy8gVHJ5IHRvIGdldCBiYWNrZW5kIEpXVCBmcm9tIGxvY2FsU3RvcmFnZS9SZWR1eCBmaXJzdFxuICAvLyBGb3Igbm93LCB3ZSdsbCBnZXQgaXQgZnJvbSBTdXBhYmFzZSBzZXNzaW9uIGFuZCBleGNoYW5nZSBpdFxuICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbiB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgaWYgKCFzZXNzaW9uPy5hY2Nlc3NfdG9rZW4pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBcbiAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBhIGNhY2hlZCBiYWNrZW5kIEpXVFxuICBjb25zdCBjYWNoZWRKd3QgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmFja2VuZF9qd3QnKTtcbiAgaWYgKGNhY2hlZEp3dCkge1xuICAgIHJldHVybiBjYWNoZWRKd3Q7XG4gIH1cbiAgXG4gIC8vIEV4Y2hhbmdlIFN1cGFiYXNlIHRva2VuIGZvciBiYWNrZW5kIEpXVFxuICB0cnkge1xuICAgIGNvbnN0IEFQSV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDEnO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX1VSTH0vYXV0aC92ZXJpZnlgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHRva2VuOiBzZXNzaW9uLmFjY2Vzc190b2tlbiB9KSxcbiAgICB9KTtcbiAgICBcbiAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBpZiAoZGF0YS5qd3QpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2JhY2tlbmRfand0JywgZGF0YS5qd3QpO1xuICAgICAgICByZXR1cm4gZGF0YS5qd3Q7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBleGNoYW5nZSB0b2tlbjonLCBlcnJvcik7XG4gIH1cbiAgXG4gIHJldHVybiBudWxsO1xufVxuXG5hc3luYyBmdW5jdGlvbiBmZXRjaFdpdGhBdXRoKFxuICBlbmRwb2ludDogc3RyaW5nLFxuICBvcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHt9LFxuKTogUHJvbWlzZTxSZXNwb25zZT4ge1xuICBjb25zdCB0b2tlbiA9IGF3YWl0IGdldEF1dGhUb2tlbigpO1xuICBcbiAgY29uc3QgaGVhZGVyczogSGVhZGVyc0luaXQgPSB7XG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gIH07XG5cbiAgaWYgKHRva2VuKSB7XG4gICAgaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYEJlYXJlciAke3Rva2VufWA7XG4gIH1cblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9VUkx9JHtlbmRwb2ludH1gLCB7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBoZWFkZXJzLFxuICB9KTtcblxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgY29uc3QgZXJyb3I6IEFwaUVycm9yID0ge1xuICAgICAgbWVzc2FnZTogYEFQSSBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWAsXG4gICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgfTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxuXG4gIHJldHVybiByZXNwb25zZTtcbn1cblxuZXhwb3J0IGNvbnN0IGFwaSA9IHtcbiAgYXN5bmMgZ2V0PFQ+KGVuZHBvaW50OiBzdHJpbmcpOiBQcm9taXNlPFQ+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoV2l0aEF1dGgoZW5kcG9pbnQpO1xuICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gIH0sXG5cbiAgYXN5bmMgcG9zdDxUPihlbmRwb2ludDogc3RyaW5nLCBkYXRhPzogYW55KTogUHJvbWlzZTxUPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaFdpdGhBdXRoKGVuZHBvaW50LCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgIH0pO1xuICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gIH0sXG5cbiAgYXN5bmMgcGF0Y2g8VD4oZW5kcG9pbnQ6IHN0cmluZywgZGF0YT86IGFueSk6IFByb21pc2U8VD4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hXaXRoQXV0aChlbmRwb2ludCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgfSxcblxuICBhc3luYyBkZWxldGU8VD4oZW5kcG9pbnQ6IHN0cmluZyk6IFByb21pc2U8VD4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hXaXRoQXV0aChlbmRwb2ludCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICB9LFxufTtcbiJdLCJuYW1lcyI6WyJzdXBhYmFzZSIsIkFQSV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsImdldEF1dGhUb2tlbiIsImRhdGEiLCJzZXNzaW9uIiwiYXV0aCIsImdldFNlc3Npb24iLCJhY2Nlc3NfdG9rZW4iLCJjYWNoZWRKd3QiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInRva2VuIiwib2siLCJqc29uIiwiand0Iiwic2V0SXRlbSIsImVycm9yIiwiY29uc29sZSIsImZldGNoV2l0aEF1dGgiLCJlbmRwb2ludCIsIm9wdGlvbnMiLCJtZXNzYWdlIiwic3RhdHVzVGV4dCIsInN0YXR1c0NvZGUiLCJzdGF0dXMiLCJhcGkiLCJnZXQiLCJwb3N0IiwicGF0Y2giLCJkZWxldGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/api.ts\n"));

/***/ })

});